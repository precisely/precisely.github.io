import{C as h,a2 as $,a3 as S,W as j,S as C,i as I,s as P,L as T,e as q,c as D,a as M,d as y,b as g,g as N,a4 as k,M as L,N as R,O as U,q as W,o as z,U as B}from"./index-1dc4839b.js";import{w as F}from"./index-b144d65d.js";function G(t){return t<.5?4*t*t*t:.5*Math.pow(2*t-2,3)+1}function Y(t){const e=t-1;return e*e*e+1}const H=(t,e)=>{const{onEnter:i,onExit:s}=e,a=new IntersectionObserver(n=>{n[0].isIntersecting&&n[0].intersectionRatio===1&&i&&i(t),n[0].isIntersecting||s&&s(t)},{threshold:[0,1]});return a.observe(t),{destroy(){a.disconnect()}}};function b(t){return Object.prototype.toString.call(t)==="[object Date]"}function u(t,e){if(t===e||t!==t)return()=>t;const i=typeof t;if(i!==typeof e||Array.isArray(t)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const s=e.map((a,n)=>u(t[n],a));return a=>s.map(n=>n(a))}if(i==="object"){if(!t||!e)throw new Error("Object cannot be null");if(b(t)&&b(e)){t=t.getTime(),e=e.getTime();const n=e-t;return l=>new Date(t+l*n)}const s=Object.keys(e),a={};return s.forEach(n=>{a[n]=u(t[n],e[n])}),n=>{const l={};return s.forEach(o=>{l[o]=a[o](n)}),l}}if(i==="number"){const s=e-t;return a=>t+a*s}throw new Error(`Cannot interpolate ${i} values`)}function J(t,e={}){const i=F(t);let s,a=t;function n(l,o){if(t==null)return i.set(t=l),Promise.resolve();a=l;let r=s,c=!1,{delay:w=0,duration:f=400,easing:A=j,interpolate:O=u}=h(h({},e),o);if(f===0)return r&&(r.abort(),r=null),i.set(t=a),Promise.resolve();const p=$()+w;let d;return s=S(m=>{if(m<p)return!0;c||(d=O(t,l),typeof f=="function"&&(f=f(t,l)),c=!0),r&&(r.abort(),r=null);const _=m-p;return _>f?(i.set(t=l),!1):(i.set(t=d(A(_/f))),!0)}),s.promise}return{set:n,update:(l,o)=>n(l(a,t),o),subscribe:i.subscribe}}const E=t=>`opacity: ${t}`;function K(t){let e,i,s,a,n;const l=t[5].default,o=T(l,t,t[4],null);return{c(){e=q("span"),o&&o.c(),this.h()},l(r){e=D(r,"SPAN",{style:!0});var c=M(e);o&&o.l(c),c.forEach(y),this.h()},h(){g(e,"style",i=E(t[0]))},m(r,c){N(r,e,c),o&&o.m(e,null),s=!0,a||(n=k(H.call(null,e,{onEnter:t[2],onExit:t[3]})),a=!0)},p(r,[c]){o&&o.p&&(!s||c&16)&&L(o,l,r,r[4],s?U(l,r[4],c,null):R(r[4]),null),(!s||c&1&&i!==(i=E(r[0])))&&g(e,"style",i)},i(r){s||(W(o,r),s=!0)},o(r){z(o,r),s=!1},d(r){r&&y(e),o&&o.d(r),a=!1,n()}}}function Q(t,e,i){let s,{$$slots:a={},$$scope:n}=e;const l=J(0,{duration:300,easing:G});B(t,l,c=>i(0,s=c));const o=()=>{console.log("enter"),l.set(1)},r=()=>{console.log("exit")};return t.$$set=c=>{"$$scope"in c&&i(4,n=c.$$scope)},[s,l,o,r,n,a]}class Z extends C{constructor(e){super(),I(this,e,Q,K,P,{})}}export{Z as S,Y as a,G as c,E as f,H as s,J as t};
